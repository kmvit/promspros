(function(d,f){if("function"===typeof define&&define.amd)define([],f);else if("object"===typeof module&&module.exports)module.exports=f();else{var a=f(),c;for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c])}})(this,function(){function d(a,c,e){a=document.createElement(a);a.setAttribute("class",c);if("undefined"===typeof e||null===e)return a;c=document.createTextNode(e);a.appendChild(c);return a}function f(a,c,e,g,f){function h(){m.removeEventListener("click",h);n.removeEventListener("click",r);p.removeEventListener("click",
t);b.dismissOverlay&&q.removeEventListener("click",h);document.removeEventListener("keyup",u);document.body.removeChild(l)}function r(){h();if(null!==b.onOk)if("prompt"===f)b.onOk(k.value);else b.onOk()}function t(){h();if(null!==b.onCancel)b.onCancel()}function u(a){27==a.keyCode&&h()}if("undefined"===typeof window)throw"Cannot use this in node.";var v=document.getElementsByClassName("msc-confirm");0<v.length&&document.body.removeChild(v[0]);var b={title:"Confirm",subtitle:"",onOk:null,onCancel:null,
okText:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",placeholder:"Enter value",dismissOverlay:!1,defaultValue:""};if("object"===typeof a){for(var w in a)b[w]=a[w];"function"!==typeof b.onOk&&(b.onOk=null);"function"!==typeof b.onCancel&&(b.onCancel=null)}else b.title="string"===typeof a?a:b.title,b.subtitle="string"===typeof c?c:b.subtitle,b.onOk="function"===typeof e?e:b.onOk,b.onCancel="function"===typeof g?g:b.onCancel,
"function"===typeof c&&(b.onOk=c);var l=d("div","msc-confirm"),q=d("div","msc-overlay"),m=d("button","msc-close");m.innerHTML="&times;";q.appendChild(m);b.dismissOverlay&&q.addEventListener("click",h);m.addEventListener("click",h);a=d("div","msc-content");c=d("h3","msc-title",b.title);e=d("div","msc-body");g=d("div","msc-action");var n=d("button","msc-ok",b.okText),p=d("button","msc-cancel",b.cancelText),k=d("input","msc-input");e.appendChild(d("p","msc-sub",b.subtitle));g.appendChild(n);"alert"!==
f&&(g.appendChild(p),p.addEventListener("click",t));n.addEventListener("click",r);a.appendChild(c);a.appendChild(e);a.appendChild(g);l.appendChild(q);l.appendChild(a);document.body.appendChild(l);l.style.display="block";a.classList.add("msc-confirm--animate");"prompt"===f?(k.setAttribute("type","text"),k.setAttribute("placeholder",b.placeholder),k.value=b.defaultValue,k.addEventListener("keyup",function(a){13===a.keyCode&&r()}),e.appendChild(k),k.focus()):"alert"===f?n.focus():p.focus();document.addEventListener("keyup",
u)}return{mscConfirm:function(a,c,e,d){f(a,c,e,d,"confirm")},mscPrompt:function(a,c,e,d){f(a,c,e,d,"prompt")},mscAlert:function(a,c,d,g){f(a,c,d,g,"alert")},mscClose:function(){var a=document.getElementsByClassName("msc-confirm");0<a.length&&document.body.removeChild(a[0])}}});