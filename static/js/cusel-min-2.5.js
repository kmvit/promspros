(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function b(b){var c=b||window.event,e=[].slice.call(arguments,1),h=0,m=0,n=0,l=0,l=0;b=a.event.fix(c);b.type="mousewheel";c.wheelDelta&&(h=c.wheelDelta);c.detail&&(h=-1*c.detail);c.deltaY&&(h=n=-1*c.deltaY);c.deltaX&&(m=c.deltaX,h=-1*m);void 0!==c.wheelDeltaY&&(n=c.wheelDeltaY);void 0!==c.wheelDeltaX&&(m=-1*c.wheelDeltaX);l=Math.abs(h);if(!d||l<d)d=l;l=Math.max(Math.abs(n),Math.abs(m));if(!p||l<p)p=l;
c=0<h?"floor":"ceil";h=Math[c](h/d);m=Math[c](m/p);n=Math[c](n/p);e.unshift(b,h,m,n);return(a.event.dispatch||a.event.handle).apply(this,e)}var e=["wheel","mousewheel","DOMMouseScroll"],c="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d,p;if(a.event.fixHooks)for(var r=e.length;r;)a.event.fixHooks[e[--r]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],
b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
(function(a){a.jScrollPaneCusel={active:[]};a.fn.jScrollPaneCusel=function(b){b=a.extend({},a.fn.jScrollPaneCusel.defaults,b);var e=function(){return!1};return this.each(function(){var c=a(this),d=this.parentNode.offsetWidth;c.css("overflow","hidden");var p=this;if(a(this).parent().is(".jScrollPaneContainer")){var r=b.maintainPosition?c.position().top:0,f=a(this).parent(),k=f.outerHeight(),t=k;a(">.jScrollPaneTrack, >.jScrollArrowUp, >.jScrollArrowDown",f).remove();c.css({top:0})}else r=0,this.originalPadding=
c.css("paddingTop")+" "+c.css("paddingRight")+" "+c.css("paddingBottom")+" "+c.css("paddingLeft"),this.originalSidePaddingTotal=(parseInt(c.css("paddingLeft"))||0)+(parseInt(c.css("paddingRight"))||0),t=k=c.innerHeight(),c.wrap("<div class='jScrollPaneContainer'></div>").parent().css({height:k+"px",width:d+"px"}),window.navigator.userProfile||(f=parseInt(a(this).parent().css("border-left-width"))+parseInt(a(this).parent().css("border-right-width")),d-=f,a(this).css("width",d+"px").parent().css("width",
d+"px")),a(document).bind("emchange",function(){c.jScrollPaneCusel(b)});if(b.reinitialiseOnImageLoad){var h=a.data(p,"jScrollPaneImagesToLoad")||a("img",c),m=[];h.length&&h.each(function(X,g){a(this).bind("load",function(){-1==a.inArray(X,m)&&(m.push(g),h=a.grep(h,function(a){return a!=g}),a.data(p,"jScrollPaneImagesToLoad",h),b.reinitialiseOnImageLoad=!1,c.jScrollPaneCusel(b))}).each(function(){if(this.complete||void 0===this.complete)this.src=this.src})})}f={height:"auto",width:d-b.scrollbarWidth-
b.scrollbarMargin-this.originalSidePaddingTotal+"px"};b.scrollbarOnLeft?f.paddingLeft=b.scrollbarMargin+b.scrollbarWidth+"px":f.paddingRight=b.scrollbarMargin+"px";c.css(f);var n=c.outerHeight(),l=k/n;if(0.99>l){var j=c.parent();j.append(a('<div class="jScrollPaneTrack"></div>').css({width:b.scrollbarWidth+"px"}).append(a('<div class="jScrollPaneDrag"></div>').css({width:b.scrollbarWidth+"px"}).append(a('<div class="jScrollPaneDragTop"></div>').css({width:b.scrollbarWidth+"px"}),a('<div class="jScrollPaneDragBottom"></div>').css({width:b.scrollbarWidth+
"px"}))));var d=a(">.jScrollPaneTrack",j),g=a(">.jScrollPaneTrack .jScrollPaneDrag",j);if(!0===b.showArrows){var q,F,L,y,M=function(){(4<y||0==y%4)&&u(s+F*G);y++},N=function(){a("html").unbind("mouseup",N);q.removeClass("jScrollActiveArrowButton");clearInterval(L)},O=function(){a("html").bind("mouseup",N);q.addClass("jScrollActiveArrowButton");y=0;M();L=setInterval(M,100)};j.append(a("<div></div>").attr({"class":"jScrollArrowUp"}).css({width:b.scrollbarWidth+"px"}).bind("mousedown",function(){q=a(this);
F=-1;O();this.blur();return!1}).bind("click",e),a("<div></div>").attr({"class":"jScrollArrowDown"}).css({width:b.scrollbarWidth+"px"}).bind("mousedown",function(){q=a(this);F=1;O();this.blur();return!1}).bind("click",e));var P=a(">.jScrollArrowUp",j),Q=a(">.jScrollArrowDown",j);b.arrowSize?(t=k-b.arrowSize-b.arrowSize,d.css({height:t+"px",top:b.arrowSize+"px"})):(f=P.height(),b.arrowSize=f,t=k-f-Q.height(),d.css({height:t+"px",top:f+"px"}))}var H=a(this).css({position:"absolute",overflow:"visible"}),
w,v,G,s=0,z=l*k/2,I=function(a,b){var c="X"==b?"Left":"Top";return a["page"+b]||a["client"+b]+(document.documentElement["scroll"+c]||document.body["scroll"+c])||0},A=function(){return!1},C=function(){B();w=g.offset();w.top-=s;v=t-g[0].offsetHeight;G=2*b.wheelSpeed*v/n},R=function(){a("html").unbind("mouseup",R).unbind("mousemove",S);z=l*k/2;a.browser.msie&&a("html").unbind("dragstart",A).unbind("selectstart",A)},u=function(a){s=a=0>a?0:a>v?v:a;g.css({top:a+"px"});H.css({top:(k-n)*(a/v)+"px"});c.trigger("scroll");
b.showArrows&&(P[0==a?"addClass":"removeClass"]("disabled"),Q[a==v?"addClass":"removeClass"]("disabled"))},S=function(a){u(I(a,"Y")-w.top-z)},f=Math.max(Math.min(l*(k-2*b.arrowSize),b.dragMaxHeight),b.dragMinHeight);g.css({height:f+"px"}).bind("mousedown",function(b){C();z=I(b,"Y")-s-w.top;a("html").bind("mouseup",R).bind("mousemove",S);a.browser.msie&&a("html").bind("dragstart",A).bind("selectstart",A);return!1});var T,D,U,V=function(){(8<D||0==D%4)&&u(s-(s-U)/2);D++},W=function(){clearInterval(T);
a("html").unbind("mouseup",W).unbind("mousemove",J)},J=function(a){U=I(a,"Y")-w.top-z};d.bind("mousedown",function(b){C();J(b);D=0;a("html").bind("mouseup",W).bind("mousemove",J);T=setInterval(V,100);V()});j.bind("mousewheel",function(a,b){C();B();u(s-b*G);return!1});var E,K,Y=function(){var a=(E-s)/b.animateStep;1<a||-1>a?u(s+a):(u(E),B())},B=function(){K&&(clearInterval(K),delete E)},x=function(g,q){if("string"==typeof g){$e=a(g,c);if(!$e.length)return;g=$e.offset().top-c.offset().top}j.scrollTop(0);
B();var d=-g/(k-n)*v;q||!b.animateTo?u(d):(E=d,K=setInterval(Y,b.animateInterval))};c[0].scrollTo=x;c[0].scrollBy=function(a){var b=-parseInt(H.css("top"))||0;x(b+a)};C();x(-r,!0);a("*",this).bind("focus",function(){for(var g=a(this),q=0;g[0]!=c[0];)q+=g.position().top,g=g.offsetParent();var g=-parseInt(H.css("top"))||0,d=g+k;q>g&&q<d||(d=q-b.scrollbarMargin,q>g&&(d+=a(this).height()+15+b.scrollbarMargin-k),x(d))});location.hash&&x(location.hash);a(document).bind("click",function(b){$target=a(b.target);
$target.is("a")&&(b=$target.attr("href"),"#"==b.substr(0,1)&&x(b))});a.jScrollPaneCusel.active.push(c[0])}else c.css({height:k+"px",width:d-this.originalSidePaddingTotal+"px",padding:this.originalPadding}),c.parent().unbind("mousewheel")})};a.fn.jScrollPaneRemoveCusel=function(){a(this).each(function(){$this=a(this);var b=$this.parent();b.is(".jScrollPaneContainer")&&($this.css({top:"",height:"",width:"",padding:"",overflow:"",position:""}),$this.attr("style",$this.data("originalStyleTag")),b.after($this).remove())})};
a.fn.jScrollPaneCusel.defaults={scrollbarWidth:10,scrollbarMargin:5,wheelSpeed:18,showArrows:!1,arrowSize:0,animateTo:!1,dragMinHeight:1,dragMaxHeight:99999,animateInterval:100,animateStep:3,maintainPosition:!0,scrollbarOnLeft:!1,reinitialiseOnImageLoad:!1};a(window).bind("unload",function(){for(var b=a.jScrollPaneCusel.active,e=0;e<b.length;e++)b[e].scrollTo=b[e].scrollBy=null})})(jQuery);jQuery.browser={};jQuery.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());
jQuery.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase());jQuery.browser.opera=/opera/.test(navigator.userAgent.toLowerCase());jQuery.browser.msie=/msie/.test(navigator.userAgent.toLowerCase());
function cuSel(a){jQuery(a.changedEl).each(function(){var b=jQuery(this),e=b.outerWidth(),c=b.prop("class"),d=b.prop("id"),p=b.prop("name"),r=b.val(),f=b.find("option[value='"+r+"']").eq(0),k=f.text(),t=b.prop("disabled"),h=a.scrollArrows,m=b.prop("onchange"),n=b.prop("tabindex"),l=b.prop("multiple");if(!d||l)return!1;t?(classDisCuselText="classDisCuselLabel",classDisCusel="classDisCusel"):classDisCusel=classDisCuselText="";h&&(classDisCusel+=" cuselScrollArrows");f.addClass("cuselActive");f=b.html().replace(/option/ig,
"span").replace(/value=/ig,"val=");$.browser.msie&&9>parseInt($.browser.version)&&(f=f.replace(/(val=)(.*?)(>)/g,"$1'$2'$3"));b.replaceWith('<div class="cusel '+c+" "+classDisCusel+'" id=cuselFrame-'+d+' style="width:'+e+'px" tabindex="'+n+'"><div class="cuselFrameRight"></div><div class="cuselText">'+k+'</div><div class="cusel-scroll-wrap"><div class="cusel-scroll-pane" id="cusel-scroll-'+d+'">'+f+'</div></div><input type="hidden" id="'+d+'" name="'+p+'" value="'+r+'" /></div>');m&&jQuery("#"+d).bind("change",
m);b=jQuery("#cuselFrame-"+d);e=b.find("span");e.eq(0).text()?c=e.eq(0).innerHeight():(c=e.eq(1).innerHeight(),e.eq(0).css("height",e.eq(1).height()));e.length>a.visRows?b.find(".cusel-scroll-wrap").eq(0).css({height:c*a.visRows+"px",display:"none",visibility:"visible"}).children(".cusel-scroll-pane").css("height",c*a.visRows+"px"):b.find(".cusel-scroll-wrap").eq(0).css({display:"none",visibility:"visible"});d=jQuery("#cusel-scroll-"+d).find("span[addTags]");b=d.length;for(i=0;i<b;i++)d.eq(i).append(d.eq(i).attr("addTags")).removeAttr("addTags");
jQuery("html").unbind("click");jQuery("html").click(function(a){a=jQuery(a.target);a.attr("id");var b=a.prop("class");if((-1!=b.indexOf("cuselText")||-1!=b.indexOf("cuselFrameRight"))&&-1==a.parent().prop("class").indexOf("classDisCusel")){var c=a.parent().find(".cusel-scroll-wrap").eq(0);cuselShowList(c)}else-1!=b.indexOf("cusel")&&-1==b.indexOf("classDisCusel")&&a.is("div")?(c=a.find(".cusel-scroll-wrap").eq(0),cuselShowList(c)):a.is(".cusel-scroll-wrap span")&&-1==b.indexOf("cuselActive")?(void 0==
a.attr("val")?c=a.text():c=a.attr("val"),a.parents(".cusel-scroll-wrap").find(".cuselActive").eq(0).removeClass("cuselActive").end().parents(".cusel-scroll-wrap").next().val(c).end().prev().text(a.text()).end().css("display","none").parent(".cusel").removeClass("cuselOpen"),a.addClass("cuselActive"),a.parents(".cusel-scroll-wrap").find(".cuselOptHover").removeClass("cuselOptHover"),-1==b.indexOf("cuselActive")&&a.parents(".cusel").find(".cusel-scroll-wrap").eq(0).next("input").change()):a.parents(".cusel-scroll-wrap").is("div")||
jQuery(".cusel-scroll-wrap").css("display","none").parent(".cusel").removeClass("cuselOpen")});jQuery(".cusel").unbind("keydown");jQuery(".cusel").keydown(function(a){var b;window.event?b=window.event.keyCode:a&&(b=a.which);if(null==b||0==b||9==b)return!0;if(-1!=jQuery(this).prop("class").indexOf("classDisCusel"))return!1;if(40==b)return b=jQuery(this).find(".cuselOptHover").eq(0),b=b.is("span")?b:jQuery(this).find(".cuselActive").eq(0),a=b.next(),a.is("span")&&(jQuery(this).find(".cuselText").eq(0).text(a.text()),
b.removeClass("cuselOptHover"),a.addClass("cuselOptHover"),$(this).find("input").eq(0).val(a.attr("val")),cuselScrollToCurent($(this).find(".cusel-scroll-wrap").eq(0))),!1;if(38==b)return b=$(this).find(".cuselOptHover").eq(0),b=b.is("span")?b:$(this).find(".cuselActive").eq(0),cuselActivePrev=b.prev(),cuselActivePrev.is("span")&&($(this).find(".cuselText").eq(0).text(cuselActivePrev.text()),b.removeClass("cuselOptHover"),cuselActivePrev.addClass("cuselOptHover"),$(this).find("input").eq(0).val(cuselActivePrev.attr("val")),
cuselScrollToCurent($(this).find(".cusel-scroll-wrap").eq(0))),!1;27==b&&(a=$(this).find(".cuselActive").eq(0).text(),$(this).removeClass("cuselOpen").find(".cusel-scroll-wrap").eq(0).css("display","none").end().find(".cuselOptHover").eq(0).removeClass("cuselOptHover"),$(this).find(".cuselText").eq(0).text(a));13==b&&(a=$(this).find(".cuselOptHover").eq(0),a.is("span")?($(this).find(".cuselActive").removeClass("cuselActive"),a.addClass("cuselActive")):$(this).find(".cuselActive").attr("val"),$(this).removeClass("cuselOpen").find(".cusel-scroll-wrap").eq(0).css("display",
"none").end().find(".cuselOptHover").eq(0).removeClass("cuselOptHover"),$(this).find("input").eq(0).change());32==b&&$.browser.opera&&(b=$(this).find(".cusel-scroll-wrap").eq(0),cuselShowList(b));if($.browser.opera)return!1});var j=[];jQuery(".cusel").keypress(function(a){var b;window.event?b=window.event.keyCode:a&&(b=a.which);if(null==b||0==b||9==b)return!0;if(-1!=jQuery(this).prop("class").indexOf("classDisCusel"))return!1;var c=this;j.push(a);clearTimeout(jQuery.data(this,"timer"));a=setTimeout(function(){var a=
[],b;for(b in j)window.event?a[b]=j[b].keyCode:j[b]&&(a[b]=j[b].which),a[b]=String.fromCharCode(a[b]).toUpperCase();b=jQuery(c).find("span");var d=b.length,e,f;for(e=0;e<d;e++){var g=!0,h;for(h in j)f=b.eq(e).text().charAt(h).toUpperCase(),f!=a[h]&&(g=!1);if(g){jQuery(c).find(".cuselOptHover").removeClass("cuselOptHover").end().find("span").eq(e).addClass("cuselOptHover").end().end().find(".cuselText").eq(0).text(b.eq(e).text());cuselScrollToCurent($(c).find(".cusel-scroll-wrap").eq(0));j=j.splice;
j=[];break}}j=j.splice;j=[]},500);jQuery(this).data("timer",a);if(jQuery.browser.opera&&9!=window.event.keyCode)return!1})});jQuery(".cusel").focus(function(){jQuery(this).addClass("cuselFocus")});jQuery(".cusel").blur(function(){jQuery(this).removeClass("cuselFocus")});jQuery(".cusel").hover(function(){jQuery(this).addClass("cuselFocus")},function(){jQuery(this).removeClass("cuselFocus")})}
function cuSelRefresh(a){var b=a.refreshEl.split(","),e=b.length,c;for(c=0;c<e;c++){var d=jQuery(b[c]).parents(".cusel").find(".cusel-scroll-wrap").eq(0);d.find(".cusel-scroll-pane").jScrollPaneRemoveCusel();d.css({visibility:"hidden",display:"block"});var p=d.find("span"),r=p.eq(0).outerHeight();p.length>a.visRows?d.css({height:r*a.visRows+"px",display:"none",visibility:"visible"}).children(".cusel-scroll-pane").css("height",r*a.visRows+"px"):d.css({display:"none",visibility:"visible"})}}
function cuselShowList(a){var b=a.parent(".cusel");if("none"==a.css("display")){$(".cusel-scroll-wrap").css("display","none");b.addClass("cuselOpen");a.css("display","block");var e=!1;-1!=b.prop("class").indexOf("cuselScrollArrows")&&(e=!0);a.find(".jScrollPaneContainer").eq(0).is("div")||a.find("div").eq(0).jScrollPaneCusel({showArrows:e});cuselScrollToCurent(a)}else a.css("display","none"),b.removeClass("cuselOpen")}
function cuselScrollToCurent(a){var b=null;a.find(".cuselOptHover").eq(0).is("span")?b=a.find(".cuselOptHover").eq(0):a.find(".cuselActive").eq(0).is("span")&&(b=a.find(".cuselActive").eq(0));a.find(".jScrollPaneTrack").eq(0).is("div")&&b&&(b=b.position(),a=a.find(".cusel-scroll-pane").eq(0).attr("id"),jQuery("#"+a)[0].scrollTo(b.top))};